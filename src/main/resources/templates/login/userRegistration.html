<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/signin.css" rel="stylesheet"/>
    <link href="/css/signup.css" rel="stylesheet"/>
</head>
<body>
    <main class="container">
        <div id="header" class="join-membership">
            <h1><label>회원가입</label></h1>
        </div>

        <div class="content">
            <div class="row-group">
                <div class="join-row">
                    <h3 class="join-title"><label>아이디</label></h3>
                    <span class="ps_box box_right_space">
              <input type="text" id="username" name="username" class="int" placeholder="아이디">
            </span>
                </div>
                <div class="join-row">
                    <h3 class="join-title"><label>비밀번호</label></h3>
                    <span class="ps_box box_right_space">
              <input type="password" id="password" name="password" class="int" placeholder="비밀번호">
            </span>
                </div>

                <div class="join-row">
                    <h3 class="join-title"><label>비밀번호 확인</label></h3>
                    <span class="ps_box box_right_space">
              <input type="password" id="password-confirm" name="password-confirm" class="int" placeholder="비밀번호">
            </span>
                </div>

                <div class="join-row">
                    <h3 class="join-title"><label>닉네임</label></h3>
                    <span class="ps_box box_right_space">
              <input type="text" id="nickname" name="nickname" class="int" placeholder="닉네임" >
            </span>
                </div>
            </div>
            <hr class="my-4">
            <button class="w-100 btn btn-primary btn-lg" type="submit" id="btn-save">가입하기</button>
        </div>

    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script>
        $('#btn-save').on('click', function () {
            var data = {
                username: $('#username').val(),
                password: $('#password').val(),
                nickname: $('#nickname').val()
            };

            $.ajax({
                type: 'POST',
                url: '/api/v1/user',
                dataType: 'json',
                contentType:'application/json; charset=utf-8',
                data: JSON.stringify(data)
            }).done(function() {
                alert('회원 등록에 성공했습니다');
                window.location.href = '/';
            }).fail(function (error) {
                alert("에러가 발생했습니다.")
                console.log(JSON.stringify(error));
            });




        });
    </script>
</body>


</html>